**P40**

a)[1,6]和[23,26]

b)[6,16]和[17,22]

c)三个冗余ACK，如果根据超时检测的话，拥塞窗口大小应当降至1。

d)超时检测，因为拥塞窗口大小降至1，而不是降至一半。

e)阈值最初为32，因为正是在这个窗口大小下，慢启动停止，拥塞避免开始。

f)当检测到丢失时，阈值被设置为拥塞窗口值的一半。当在第16轮传输期间检测到丢失时，拥塞窗口大小为42。因此，在第18轮传输中，阈值为21。

g)当检测到丢失时，阈值被设置为拥塞窗口值的一半。当在第22轮传输期间检测到丢失时，拥塞窗口大小为29。因此，在第24轮传输中，阈值为14（14.5向下取整）。

h)第一轮发送时，发送报文段1；第二轮发送报文段2-3；第三轮发送报文段4-7；第四轮发送报文段8-15；第五轮发送报文段16-31；第六轮发送报文段32-63；第七轮发射报文段64-96。因此，分组70在第7传输轮回中被发送。

i)当发生丢失时，阈值将被设置为拥塞窗口（8）当前值的一半，并且拥塞窗口将被设置为新阈值+3MSS。因此，阈值和窗口的新值将分别为4和7。

j)在第16个传输轮回时，ssthresh=cwnd/2=21，cwnd=1并进入慢启动状态，则在第19个传输轮回中，ssthreash=21，cwnd=4

k)第17轮，1个；第18轮，2个；第19轮，4个；第20轮，8个；第21轮，16个；第22轮，21个。所以总数是52个分组。

 

**P45**

- 1. 由题意得，即每一个      RTT 传输得包从 $W \over 2$ 变化为      $W$

由 TCP 吞吐量的宏观描述可知，其总的传包数是：

$N = {W \over 2 } + ({W \over 2 } + 1) + ({W \over 2 } + 2) + \cdots + ({W \over 2 } + {W \over 2 })$

 $ = {W \over 2} \times ({W \over 2} + 1) + \sum_{n=0}^{W\over 2}n$

 $= {3 \over 8} W^2 + {3 \over 4} W$

所以$L = {1 \over N} = {1 \over {{3\over8}W^2} + {3\over4}W}$

- 1. $平均速率 = {3 \over 4} \times {W \over      RTT} \times MSS$

$L ={1 \over {{3\over8}W^2} + {3\over4}W}$

$\because O(W^2) >> O(W)$

$\therefore {3 \over 4}W \rightarrow 0$

$\therefore W \approx \sqrt{8 \over 3L}$

$\therefore平均速率 = {3 \over 4} \times {W \over RTT} \times MSS \approx {{1.22 \times MSS} \over RTT \sqrt{L}}$

 

**P46**

a. 最大窗口长度 W 受限于链路速率：W * MSS / RTT = 10Mbps 得到 W = 125

b. 从 W/2 到 W： 平均窗口长度为 0.75W = 94

平均吞吐量为 94 * 1500 * 8 / 0.15 = 7.52Mbps

c. W’ = W/2 + 3 = 65

从 W’ 到 W： (125-65)*150ms = 9s